{"version":3,"file":"sparkline.js","sourceRoot":"","sources":["../../src/sparkline.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AACvC,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAE5D,OAAO,EAAE,MAAM,EAAE,MAAM,cAAc,CAAC;AAEtC,MAAM,SAAS,GAAG,EAAE,CAAC;AAErB;;;GAGG;AAEH,IAAa,SAAS,GAAtB,MAAa,SAAU,SAAQ,UAAU;IAAzC;;QAGE;;;WAGG;QAEH,SAAI,GAAa,EAAE,CAAC;IAmCtB,CAAC;IAjCC,MAAM;QACJ,OAAO,IAAI,CAAA;;;yBAGU,SAAS,GAAG,EAAE;;;;;;;;;;mCAUJ,IAAI,CAAC,UAAU,EAAE;WACzC,CAAC;IACV,CAAC;IAES,UAAU;QAClB,MAAM,KAAK,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC3C,MAAM,KAAK,GAAG,CAAC,SAAS,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QACvD,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC;QACd,IAAI,IAAI,GAAG,MAAM,GAAG,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YAC1B,IAAI,IAAI,GAAG,CAAC;YACZ,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC;YAClC,IAAI,IAAI,GAAG,CAAC;YACZ,IAAI,IAAI,CAAC,SAAS,GAAG,KAAK,GAAG,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC;YACzD,IAAI,IAAI,KAAK,CAAC;QAChB,CAAC,CAAC,CAAC;QACH,IAAI,IAAI,OAAO,GAAG,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;QAC9C,OAAO,IAAI,CAAC;IACd,CAAC;CACF,CAAA;AA1CQ,gBAAM,GAAG,MAAM,CAAC;AAOvB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;uCACN;AART,SAAS;IADrB,aAAa,CAAC,eAAe,CAAC;GAClB,SAAS,CA2CrB;SA3CY,SAAS","sourcesContent":["import { html, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\nimport { styles } from './styles.css';\n\nconst amplitude = 25;\n\n/**\n * @attr {boolean} [success=false] - Set color to success\n * @attr {boolean} [error=false] - Set color to error\n */\n@customElement('fds-sparkline')\nexport class Sparkline extends LitElement {\n  static styles = styles;\n\n  /**\n   * An array of numbers\n   * @type {Array}\n   */\n  @property({ type: Array })\n  data: number[] = [];\n\n  render() {\n    return html`<svg\n      width=\"100%\"\n      height=\"100%\"\n      viewBox=\"0 0 100 ${amplitude + 10}\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      preserveAspectRatio=\"none\"\n    >\n      <defs>\n        <linearGradient id=\"gradient\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\n          <stop class=\"gradient-color\" offset=\"0\" stop-opacity=\".12\" />\n          <stop class=\"gradient-color\" offset=\"1\" stop-opacity=\"0\" />\n        </linearGradient>\n      </defs>\n      <path class=\"sparkline\" d=\"${this.renderPath()}\" fill=\"url(#gradient)\" />\n    </svg>`;\n  }\n\n  protected renderPath() {\n    const stepX = 102 / (this.data.length - 1);\n    const stepY = (amplitude - 1) / Math.max(...this.data);\n    let xPos = -1;\n    let path = 'M-1 ' + (amplitude + 10).toString();\n    this.data.forEach((value) => {\n      path += 'L';\n      path += xPos.toFixed().toString();\n      path += ' ';\n      path += (amplitude - value * stepY).toFixed().toString();\n      xPos += stepX;\n    });\n    path += 'L101 ' + (amplitude + 10).toString();\n    return path;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'fds-sparkline': Sparkline;\n  }\n}\n"]}