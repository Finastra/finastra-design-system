<uxg-avatar
  [dense]="dense === '' ? true : false"
  [color]="color"
  [name]="user.username"
  [defaultGravatar]="defaultGravatar"
  [gravatarEmail]="user.gravatarEmail"
  [matMenuTriggerFor]="menuUserProfile"
  [avatarImage]="user.photo ? avatarImage : null"
>
</uxg-avatar>
<mat-menu #menuUserProfile class="menu-user-profile">
  <uxg-user-profile-panel
    [user]="user"
    [defaultGravatar]="defaultGravatar"
    [color]="color"
    [contentTemplate]="uxgUserProfilePanelContent"
    [actionsTemplate]="uxgUserProfilePanelActions"
  >
  </uxg-user-profile-panel>
</mat-menu>

<ng-template #avatarImage>
  <img [src]="user.photo" />
</ng-template>
