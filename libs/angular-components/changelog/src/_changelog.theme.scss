@use 'sass:map';
@use '@angular/material' as mat;
@use '~@finastra/angular-theme' as fds;
@use '@angular/flex-layout/core/sass/layout-bp' as flex-layout;

@mixin theme($theme) {
  $primary: map.get($theme, primary);
  $accent: map.get($theme, accent);
  $foreground: map.get($theme, foreground);
  $background: map.get($theme, background);
  $elevation-color: map.get($foreground, elevation);

  uxg-changelog {
    .title {
      .changelog-icon {
        background-image: url('data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%22115px%22%20height%3D%22115px%22%20viewBox%3D%220%200%20115%20115%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3Ctitle%3Esupport%3C%2Ftitle%3E%0A%20%20%20%20%3Cg%20id%3D%22Page-1%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Changelog-op3%22%20transform%3D%22translate%28-487.000000%2C%20-103.000000%29%22%20fill%3D%22%23C137A2%22%20fill-rule%3D%22nonzero%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group-5%22%20transform%3D%22translate%28487.000000%2C%20103.000000%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22support%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M20.2983628%2C89.9229818%20C18.6826296%2C89.9229818%2017.1294128%2C90.3292909%2015.7514168%2C91.0922297%20C8.49250459%2C81.716954%204.50820361%2C70.0706047%204.50820361%2C58.1394841%20C4.50820361%2C28.5853648%2028.3717456%2C4.5421472%2057.7050062%2C4.5421472%20C61.2710656%2C4.5421472%2064.8353641%2C4.89966392%2068.2992847%2C5.60493878%20C69.5179085%2C5.85333746%2070.708356%2C5.0584617%2070.9548984%2C3.82888815%20C71.2014408%2C2.59931459%2070.4125051%2C1.40167824%2069.1921204%2C1.15239248%20C65.4349905%2C0.387679304%2061.5704387%2C0%2057.7050062%2C0%20C42.2917047%2C0%2027.8002954%2C6.04762054%2016.901361%2C17.0286164%20C6.00242651%2C28.0096119%200%2C42.6101313%200%2C58.1394841%20C0%2C71.202593%204.40254259%2C83.9507679%2012.4178117%2C94.1705991%20C11.3858557%2C95.723978%2010.8311352%2C97.5497082%2010.8311352%2C99.4614909%20C10.8311352%2C102.009352%2011.8164243%2C104.404625%2013.6047372%2C106.205515%20C15.3921693%2C108.007292%2017.7695423%2C109%2020.2983628%2C109%20C22.8271833%2C109%2025.2045563%2C108.007292%2026.9928691%2C106.205515%20C28.781182%2C104.404625%2029.7655904%2C102.008464%2029.7655904%2C99.4606036%20C29.7655904%2C96.9136302%2028.781182%2C94.5174702%2026.9928691%2C92.7165797%20C25.2045563%2C90.9148021%2022.8271833%2C89.9229818%2020.2983628%2C89.9229818%20Z%20M23.8045478%2C102.994075%20C22.8685672%2C103.93799%2021.6226476%2C104.457853%2020.2983628%2C104.457853%20C18.974078%2C104.457853%2017.7290391%2C103.93799%2016.792178%2C102.994075%20C15.8553169%2C102.05016%2015.3393388%2C100.795747%2015.3393388%2C99.4614909%20C15.3393388%2C98.1263478%2015.8553169%2C96.8719346%2016.792178%2C95.9280197%20C17.7281586%2C94.9841047%2018.974078%2C94.465129%2020.2983628%2C94.465129%20C21.6226476%2C94.465129%2022.8676868%2C94.9849918%2023.8045478%2C95.9280197%20C24.7414089%2C96.8719346%2025.2573868%2C98.1263478%2025.2573868%2C99.4614909%20C25.2573868%2C100.795747%2024.7414089%2C102.05016%2023.8045478%2C102.994075%20L23.8045478%2C102.994075%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M102.562056%2C20.8267396%20C105.016136%2C17.1229379%20104.621967%2C12.0591535%20101.376021%2C8.7935979%20C99.5850625%2C6.99270762%2097.2041729%2C6%2094.6716118%2C6%20C92.1390506%2C6%2089.758161%2C6.99270762%2087.9672029%2C8.7935979%20C86.1762448%2C10.5953755%2085.1903802%2C12.9906484%2085.1903802%2C15.5385091%20C85.1903802%2C18.0863698%2086.1762448%2C20.4816427%2087.9672029%2C22.2834203%20C89.758161%2C24.0851979%2092.1390506%2C25.0770182%2094.6716118%2C25.0770182%20C96.2897349%2C25.0770182%2097.8452493%2C24.6707091%2099.2252836%2C23.9077703%20C106.494933%2C33.2839331%20110.485128%2C44.9293953%20110.485128%2C56.8605159%20C110.485128%2C86.4146352%2086.5862868%2C110.457853%2057.2096362%2C110.457853%20C53.6735744%2C110.457853%2050.1375123%2C110.107433%2046.701095%2C109.415465%20C45.4789048%2C109.169728%2044.2893419%2C109.967265%2044.0441986%2C111.196839%20C43.7999368%2C112.427299%2044.5926849%2C113.623162%2045.814875%2C113.869786%20C49.5422898%2C114.619418%2053.3764039%2C115%2057.2096362%2C115%20C72.6457372%2C115%2087.1585823%2C108.952379%2098.0736384%2C97.9713836%20C108.988695%2C86.9903881%20115%2C72.3898687%20115%2C56.8605159%20C115%2C43.7965197%20110.590063%2C31.0474579%20102.562056%2C20.8267396%20Z%20M91.1602404%2C19.0719803%20C90.2219935%2C18.1280654%2089.7052524%2C16.8736522%2089.7052524%2C15.5385091%20C89.7052524%2C14.2042534%2090.2219935%2C12.9498402%2091.1602404%2C12.0059252%20C92.0976055%2C11.0620103%2093.3453681%2C10.5421472%2094.6716118%2C10.5421472%20C95.9978555%2C10.5421472%2097.2456178%2C11.0620103%2098.1838647%2C12.0059252%20C100.11944%2C13.9540805%20100.11944%2C17.123825%2098.1838647%2C19.0719803%20C97.2456178%2C20.0150082%2095.9978555%2C20.534871%2094.6716118%2C20.534871%20C93.3444861%2C20.534871%2092.0976055%2C20.0150082%2091.1602404%2C19.0719803%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M48.7046959%2C95.7472527%20C48.7046959%2C96.9915437%2049.7139455%2C98%2050.9572494%2C98%20L65.0418684%2C98%20C66.2860521%2C98%2067.2944219%2C96.9915437%2067.2944219%2C95.7472527%20L67.2944219%2C91.379915%20C70.2561777%2C90.5826537%2073.087708%2C89.4087611%2075.7485369%2C87.8758371%20L78.8317195%2C90.9592849%20C79.2540733%2C91.381675%2079.8268907%2C91.6192693%2080.4252252%2C91.6192693%20C81.0217998%2C91.6192693%2081.5954971%2C91.381675%2082.0178509%2C90.958405%20L91.9730815%2C80.9952782%20C92.8521054%2C80.1152988%2092.8521054%2C78.6888522%2091.9730815%2C77.8097527%20L88.8934187%2C74.7298249%20C90.4262108%2C72.0687672%2091.6000023%2C69.2369934%2092.3971952%2C66.2749828%20L96.7474392%2C66.2749828%20C97.991623%2C66.2749828%2099.0000024%2C65.2665263%2099.0000024%2C64.0222356%20L99.0000024%2C49.9364053%20C99.0000024%2C48.6921146%2097.991623%2C47.6836581%2096.7474392%2C47.6836581%20L92.3963153%2C47.6836581%20C91.5991225%2C44.7225275%2090.4262108%2C41.8907539%2088.8934187%2C39.2296962%20L91.9563635%2C36.1664878%20C92.3787173%2C35.7440976%2092.6162912%2C35.1703511%2092.6162912%2C34.572845%20C92.6154113%2C33.9753392%2092.3778374%2C33.4015926%2091.9554836%2C32.9792025%20L81.9923337%2C23.0231155%20C81.1133098%2C22.1440163%2079.6869859%2C22.1440163%2078.8070822%2C23.0239956%20L75.7485369%2C26.083684%20C73.087708%2C24.5507597%2070.2561777%2C23.3768673%2067.2944219%2C22.5796059%20L67.2944219%2C18.2527473%20C67.2944219%2C17.0084563%2066.2860521%2C16%2065.0418684%2C16%20L50.9572494%2C16%20C49.7139455%2C16%2048.7046959%2C17.0084563%2048.7046959%2C18.2527473%20L48.7046959%2C22.580486%20C45.7438199%2C23.3768673%2042.9122896%2C24.5507597%2040.2514607%2C26.083684%20L37.1920355%2C23.0239956%20C36.3130116%2C22.1448962%2034.8866878%2C22.1440163%2034.006784%2C23.0231155%20L24.044514%2C32.9800824%20C23.6212803%2C33.4024725%2023.3837064%2C33.9753392%2023.3837064%2C34.572845%20C23.3837064%2C35.1703511%2023.6212803%2C35.7440976%2024.0436341%2C36.1664878%20L27.1065789%2C39.2296962%20C25.5737867%2C41.8907539%2024.3999953%2C44.7216475%2023.6028024%2C47.6836581%20L19.2604775%2C47.6836581%20C18.0162937%2C47.6836581%2017.0079239%2C48.6921146%2017.0079239%2C49.9355254%20L17.0000024%2C64.0213557%20C16.999125%2C64.6188615%2017.2366989%2C65.1926083%2017.6590527%2C65.6149984%20C18.0814065%2C66.0373885%2018.6542239%2C66.2749828%2019.2525584%2C66.2749828%20L23.6028024%2C66.2749828%20C24.3999953%2C69.2369934%2025.5737867%2C72.0687672%2027.1065789%2C74.7298249%20L24.0269161%2C77.8097527%20C23.1478922%2C78.6888522%2023.1470124%2C80.1152988%2024.0269161%2C80.9952782%20L33.9821467%2C90.958405%20C34.4045005%2C91.3807951%2034.9773179%2C91.6192693%2035.5747724%2C91.6192693%20L35.5756524%2C91.6192693%20C36.1731069%2C91.6192693%2036.7459243%2C91.381675%2037.1682781%2C90.9592849%20L40.2505809%2C87.8758371%20C42.9122896%2C89.4087611%2045.7438199%2C90.5826537%2048.7046959%2C91.379915%20L48.7046959%2C95.7472527%20Z%20M41.1340042%2C83.138028%20C40.2426618%2C82.5616415%2039.0697502%2C82.6865987%2038.3183123%2C83.437221%20L35.5756524%2C86.1801168%20L28.8047932%2C79.4033955%20L31.5448135%2C76.6622596%20C32.2953714%2C75.9116372%2032.4203176%2C74.7386248%2031.8439806%2C73.8472055%20C29.8017241%2C70.6863195%2028.3657212%2C67.2218407%2027.5773275%2C63.5488065%20C27.353832%2C62.511311%2026.4369722%2C61.7694883%2025.3749284%2C61.7694883%20L21.5059918%2C61.7694883%20L21.5112713%2C52.1891526%20L25.3749284%2C52.1891526%20C26.4369722%2C52.1891526%2027.353832%2C51.44821%2027.5773275%2C50.4098344%20C28.3657212%2C46.7376802%2029.8017241%2C43.2732014%2031.8439806%2C40.1123154%20C32.4203176%2C39.2208963%2032.2953714%2C38.0478838%2031.5448135%2C37.2972612%20L28.8223913%2C34.5737252%20L35.5985298%2C27.8022837%20L38.3183123%2C30.5231799%20C39.0697502%2C31.2738023%2040.2417817%2C31.3978794%2041.1340042%2C30.8223729%20C44.2937385%2C28.7799408%2047.7579194%2C27.3438144%2051.4306377%2C26.5553529%20C52.468044%2C26.331838%2053.2098029%2C25.4140195%2053.2098029%2C24.3527644%20L53.2098029%2C20.5054945%20L62.7893148%2C20.5054945%20L62.7893148%2C24.3518845%20C62.7893148%2C25.4140195%2063.5301936%2C26.331838%2064.56848%2C26.5544728%20C68.2403185%2C27.3438144%2071.7053792%2C28.7790607%2074.8651135%2C30.821493%20C75.756456%2C31.3978794%2076.9293676%2C31.2738023%2077.6799256%2C30.5223%20L80.4005877%2C27.8022837%20L87.1767264%2C34.5737252%20L84.4543042%2C37.2963813%20C83.7028665%2C38.0478838%2083.5788002%2C39.2208963%2084.1551369%2C40.1123154%20C86.1973937%2C43.2732014%2087.6325165%2C46.7376802%2088.4217903%2C50.4098344%20C88.6444059%2C51.44821%2089.5621455%2C52.1891526%2090.6241891%2C52.1891526%20L94.4948857%2C52.1891526%20L94.4948857%2C61.7694883%20L90.6241891%2C61.7694883%20C89.5621455%2C61.7694883%2088.6452857%2C62.511311%2088.4217903%2C63.5488065%20C87.6333965%2C67.2209607%2086.1973937%2C70.6863195%2084.1551369%2C73.8463255%20C83.5788002%2C74.7386248%2083.7037464%2C75.9116372%2084.4543042%2C76.6622596%20L87.1943245%2C79.4025153%20L80.4234653%2C86.1792368%20L77.6808055%2C83.437221%20C76.9293676%2C82.6857185%2075.756456%2C82.5616415%2074.8651135%2C83.138028%20C71.7044994%2C85.1804602%2068.2403185%2C86.6157066%2064.56848%2C87.4050481%20C63.5301936%2C87.628563%2062.7893148%2C88.5455014%2062.7893148%2C89.6076366%20L62.7893148%2C93.4945055%20L53.2098029%2C93.4945055%20L53.2098029%2C89.6076366%20C53.2098029%2C88.5463813%2052.468044%2C87.628563%2051.4306377%2C87.4050481%20C47.7587993%2C86.6165865%2044.2946184%2C85.1804602%2041.1340042%2C83.138028%20L41.1340042%2C83.138028%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M76%2C57.5%20C76%2C47.2988937%2067.7011063%2C39%2057.5%2C39%20C47.2988937%2C39%2039%2C47.2988937%2039%2C57.5%20C39%2C67.7011063%2047.2988937%2C76%2057.5%2C76%20C67.7011063%2C76%2076%2C67.7011063%2076%2C57.5%20Z%20M43.4778519%2C57.5%20C43.4778519%2C49.7678344%2049.7678344%2C43.4778519%2057.5%2C43.4778519%20C65.2321656%2C43.4778519%2071.5221481%2C49.7687089%2071.5221481%2C57.5%20C71.5221481%2C65.2312911%2065.2321656%2C71.5221481%2057.5%2C71.5221481%20C49.7678344%2C71.5221481%2043.4778519%2C65.2321656%2043.4778519%2C57.5%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M77.5%2C8%20C78.1582032%2C8%2078.8027343%2C7.73257868%2079.2675782%2C7.26800712%20C79.7324218%2C6.80050753%2080%2C6.15635369%2080%2C5.49853611%20C80%2C4.84462224%2079.7333985%2C4.19949247%2079.2675782%2C3.73199288%20C78.8027343%2C3.26742132%2078.1582032%2C3%2077.5%2C3%20C76.8398438%2C3%2076.1982423%2C3.26742132%2075.7333985%2C3.73199288%20C75.2675783%2C4.19949247%2075%2C4.84169445%2075%2C5.49853611%20C75%2C6.1583058%2075.2675782%2C6.80050753%2075.7333985%2C7.26800712%20C76.1982423%2C7.73257868%2076.8398438%2C8%2077.5%2C8%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M37.5%2C107%20C36.8427735%2C107%2036.1972657%2C107.267578%2035.7324218%2C107.732422%20C35.2675782%2C108.197266%2035%2C108.842774%2035%2C109.5%20C35%2C110.160156%2035.2675782%2C110.802734%2035.7324218%2C111.267578%20C36.1972657%2C111.732422%2036.8427735%2C112%2037.5%2C112%20C38.1572265%2C112%2038.8027343%2C111.732422%2039.2675782%2C111.267578%20C39.7324218%2C110.802734%2040%2C110.157226%2040%2C109.5%20C40%2C108.842774%2039.7324218%2C108.197266%2039.2675782%2C107.732422%20C38.8027343%2C107.267578%2038.1572265%2C107%2037.5%2C107%20Z%22%20id%3D%22Path%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E');
        background-repeat: no-repeat;
        background-size: contain;
      }

      .creator {
        color: fds.get-color-from-palette($primary, default);
      }

      span {
        color: fds.get-color-from-palette($foreground, text);
      }
    }

    .changelog-container {
      .release-detail,
      .last-release,
      .first-release {
        background-color: fds.get-color-from-palette($background, card);
        @include mat.elevation(4, $elevation-color);
      }

      .change {
        .new {
          color: fds.get-color-from-palette($primary, default);
          border: 1px solid fds.get-color-from-palette($primary, default);
          background-color: fds.get-color-from-palette($primary, 300, 0.1);
        }
        .update {
          color: map.get(fds.$uxg-grass, 100);
          border: 1px solid map.get(fds.$uxg-grass, 100);
          background-color: fds.get-color-from-palette(fds.$uxg-grass, 100, 0.1);
        }
        .bugfix {
          color: map.get(fds.$uxg-crimson, 100);
          border: 1px solid map.get(fds.$uxg-crimson, 100);
          background-color: fds.get-color-from-palette(fds.$uxg-crimson, 100, 0.1);
        }
        .deprecated {
          color: fds.get-color-from-palette($foreground, text, 0.6);
          border: 1px solid fds.get-color-from-palette($foreground, text, 0.6);
          background-color: fds.get-color-from-palette(fds.$mat-grey, 400, 0.1);
        }
      }

      .release-detail {
        &::after {
          border-left: 2px dotted fds.get-color-from-palette($primary, default);
        }
      }

      .first-release {
        &::after {
          background-color: fds.get-color-from-palette($primary, default);
        }
      }

      .release-detail::before,
      .last-release::before {
        color: fds.get-color-from-palette($background, default);
        border: 8px solid fds.get-color-from-palette($primary, default);
        background-color: fds.get-color-from-palette($primary, default);
      }

      .first-release::before {
        background-color: fds.get-color-from-palette($background, card);
        border: 5px solid fds.get-color-from-palette($primary, default);
      }
    }
  }
}

@mixin typography($config) {
  uxg-changelog {
    .title {
      .creator {
        @include mat.typography-level($config, h2);
      }

      span {
        @include mat.typography-level($config, h2);
      }
    }

    @include flex-layout.layout-bp(xs) {
      .title {
        .creator {
          @include mat.typography-level($config, h3);
        }

        span {
          @include mat.typography-level($config, h3);
        }
      }
    }
  }
}
