@use '@finastra/fds-theme'as fds;

:host {
  --mdc-icon-size: 18px;
  --mdc-icon-button-size: 24px;

  .tour-overlay-container {
    height: 0;
    left: 0;
    opacity: 0;
    top: 0;
    overflow: hidden;
    pointer-events: none;
    position: fixed;
    transition: all 0.3s ease-out, height 0ms 0.3s, opacity 0.3s 0ms;
    width: 100vw;
    z-index: 9998;

    &.tour-is-visible {
      height: 100vh;
      opacity: 0.5;
      transition: all 0.3s ease-out, height 0s 0s, opacity 0.3s 0s;

      path {
        pointer-events: all;
        stroke: white;
        stroke-width: 3px;
      }
    }
  }

  #guide-tooltip {
    color: var(--fds-on-primary, #fff);
    background-color: #333;
    padding: var(--fds-spacing-4, 24px);
    border-radius: var(--fds-spacing-2, 8px);
    position: absolute;
    z-index: 9999;
    max-width: 300px;
    min-width: 250px;
    white-space: normal;
    opacity: 0;
    visibility: hidden;

    .step-title {
      @include fds.typography(headline-4);
      margin-bottom: var(--fds-spacing-3, 16px);
    }

    .step-description {
      @include fds.typography(body-1);
      margin-bottom: var(--fds-spacing-2, 8px);
    }

    .guide-action {
      flex-direction: row-reverse;
      margin-top: var(--fds-spacing-3, 16px);

      @include fds.mdc(theme-primary, on-primary);
      @include fds.mdc(theme-on-primary, on-light);
    }

    .close-button {
      position: absolute;
      right: var(--fds-spacing-2, 8px);
      top: var(--fds-spacing-2, 8px);
    }

    &.visible-step {
      opacity: 1;
      visibility: visible;
    }

    #arrow,
    #arrow::before {
      position: absolute;
      width: var(--fds-spacing-2, 8px);
      height: var(--fds-spacing-2, 8px);
      background: inherit;
      display: flex;
      flex-direction: column;
    }

    #arrow {
      visibility: hidden;

      &::before {
        visibility: visible;
        content: '';
        transform: rotate(45deg);
      }
    }

    &[data-popper-placement^='top']>#arrow {
      bottom: -4px;
    }

    &[data-popper-placement^='bottom']>#arrow {
      top: -4px;
    }

    &[data-popper-placement^='left']>#arrow {
      right: -4px;
    }

    &[data-popper-placement^='right']>#arrow {
      left: -4px;
    }

    &[data-popper-placement^='center']>#arrow {
      top: 4px;
    }
  }
}