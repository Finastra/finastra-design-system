@use '@finastra/fds-theme' as fds;

:host {
  display: block;

  --fds-icon-size: 18px;
}

.circle {
  @include fds.text-color(on-background);
  @include fds.typography(subtitle-3);

  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  width: var(--fds-spacing-4, 24px);
  height: var(--fds-spacing-4, 24px);
  border: 1px solid;
  @include fds.property(border-color, outline);
}

.step-item {
  cursor: pointer;
}

.disabled.step-item,
.readonly.step-item {
  pointer-events: none;
}

.step-item-label {
  @include fds.text-color(on-background);
}

.step-item-description {
  @include fds.text-color(on-surface-medium);
}

.done {
  .circle {
    @include fds.property(border-color, success);
    @include fds.bg-color(success);
    @include fds.text-color(on-success);
  }

  .line {
    @include fds.bg-color(success);
  }
}

.disabled.done {
  .circle {
    @include fds.property(border-color, success);
    @include fds.bg-color(success);
    @include fds.text-color(on-success);
  }
}

.disabled {
  .circle {
    @include fds.bg-color(surface-disabled);
    @include fds.text-color(on-surface-disabled);

    pointer-events: none;
  }

  .step-item-label,
  .step-item-description {
    @include fds.text-color(on-surface-disabled);
  }
}

.current {
  .circle {
    @include fds.property(border-color, primary);
    @include fds.bg-color(primary);
    @include fds.text-color(on-primary);
  }

  .line.start-line {
    @include fds.bg-color(success);
  }

  .line.end-line {
    @include fds.bg-color(primary);
  }

  .step-item-label {
    @include fds.typography(subtitle-3);
  }
}

.line.start-line.current {
  @include fds.bg-color(primary);
}

:host([secondary]) {
  .current {
    .circle {
      @include fds.property(border-color, secondary);
      @include fds.bg-color(secondary);
      @include fds.text-color(on-secondary);
    }

    .line.start-line {
      @include fds.bg-color(success);
    }

    .line.end-line {
      @include fds.bg-color(secondary);
    }
  }

  .line.start-line.current {
    @include fds.bg-color(secondary);
  }
}

.line {
  @include fds.bg-color(outline);
}

.line.hidden {
  visibility: hidden;
}

.step-item.current.error,
.step-item.done.error {
  .circle.step-item-icon {
    @include fds.property(border-color, error);
    @include fds.bg-color(error);
    @include fds.text-color(on-error);
  }

  .line.end-line {
    @include fds.bg-color(error);
  }
}

.step-item {
  .line.start-line.current.error {
    @include fds.bg-color(error);
  }
}

.step-item.current,
.step-item.done {
  .line.start-line.error {
    @include fds.bg-color(error);
  }
}
