<script type="module" src="node_modules/@finastra/global-search/dist/src/index.js"></script>

<div style="display: flex; flex-direction: column;">
  <div  style="display: flex; flex-direction: row;">
    <fds-global-search id="fds-global-search">
      <!-- <fds-global-search-group slot="searches" id="fds-global-search-recent-group"></fds-global-search-group> -->
      <fds-global-search-group slot="searches" id="fds-global-search-trending-group"></fds-global-search-group>
      <fds-global-search-page slot="pages" id="fds-global-search-page"></fds-global-search-page>
    </fds-global-search>
    <div style="display: flex; margin-left: 20px;">
      <div>
        input value: <span id="input-value"></span>
      </div>
     
    </div>
  </div>
  <div style="margin-top: 20px;">
    <div>
      selected value: <span id="selected-value"></span>
    </div>
  </div>
  
</div>
<style>
    .main-content {
      display: flex;
      flex-direction: column;
      justify-content: start;
      align-items: center;
    }
    fds-global-search{
      --fds-global-search-width: 400px;
      height: 100%
    }
</style>

<script>
  const inputValue = window.document.querySelector('#input-value');
  const selectedValue = window.document.querySelector('#selected-value');
  const globalSearch = window.document.querySelector('#fds-global-search');
  globalSearch.placeholder="Search the maketplace";
  globalSearch.enableRecentSearch=true;
  globalSearch.value = ''
  globalSearch.loading = false;

  const trendingSearchGroup = window.document.querySelector('#fds-global-search-trending-group');
  trendingSearchGroup.title = "Trending searches";
  trendingSearchGroup.items = [{
    icon: 'trending_up',
    text: 'enterprise risk',
  },{
    icon: 'trending_up',
    text: 'customer service',
  }];

  const fdsPage = window.document.querySelector('#fds-global-search-page');

  fdsPage.title="Popular applications";
  fdsPage.items=[
    {
      logo: '//us1-cdn.openchannel.io/59bfc432ca753d60bf995c46/public/603e561d130c5a04da2d3d7c.jpg',
      name: "CloudMargin"
    }
  ]
  globalSearch.addEventListener('onSearchInputChanged', (e) =>{
    console.log('global search input changed')
    const data = e.detail;

    inputValue.innerHTML = data + ' (current value)';
  })

  globalSearch.addEventListener('onFdsGlobalSearchItemSelected', (e) =>{
    console.log('global search item selected')
    const data = e.detail;

    selectedValue.innerHTML = data + ' (Global Search item selected)';
  })
  globalSearch.addEventListener('onFdsGlobalSearchPageSelected', (e) =>{
    console.log('global search page selected')
    const data = e.detail;
    selectedValue.innerHTML = data + ' (Global Search page selected)';
  })

</script>