@use 'sass:map';
@use 'sass:meta';
@use './variables';

@mixin custom-properties() {
  :root {
    @each $key, $value in variables.$properties {
      @if (meta.type-of($value) == 'map') {
        $font-weight: map.get($value, 'font-weight');
        $font-size: map.get($value, 'font-size');
        $line-height: map.get($value, 'line-height');
        $font-family: map.get($value, 'font-family');
        
        @if (not $font-family) {
          $font-family: map.get(variables.$properties, 'font-family');
        }

        --fds-#{$key}:
          normal
          normal
          #{$font-weight}
          #{$font-size}/#{$line-height}
          #{$font-family};
      } @else {
        --fds-#{$key}: #{$value};
      }
    }
  }
}

@mixin helper-classes() {
  @each $key, $value in variables.$properties {
    @if (meta.type-of($value) == 'map') {
      $letter-spacing: map.get($value, 'letter-spacing');

      .fds-#{$key} {
        font: var(--fds-#{$key});
        letter-spacing: #{$letter-spacing};
      }
    }
  }
}

@mixin typography($style) {
  $typo-style: map.get(variables.$properties, $style);
  $letter-spacing: map.get($typo-style, 'letter-spacing');

  font: var(--fds-#{$style});
  letter-spacing: #{$letter-spacing};
}